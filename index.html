<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç†æƒ³é”€å”®AIåŠ©æ‰‹</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "SF Pro SC", "PingFang SC", "Helvetica Neue", Helvetica, Arial, sans-serif;
            background: linear-gradient(135deg, #f8fafC 0%, #ffffff 50%, #f5f7f9 100%);
            width: 1194px;
            height: 834px;
            overflow: hidden;
            color: #2a2a2a;
        }

        .container {
            display: flex;
            height: 100%;
        }

        /* å·¦ä¾§è¾¹æ  */
        .sidebar {
            width: 240px;
            background: rgba(255, 255, 255, 0.35);
            backdrop-filter: blur(30px) saturate(180%);
            display: flex;
            flex-direction: column;
            transition: width 0.3s ease;
            border-right: 1px solid rgba(255, 255, 255, 0.5);
            box-shadow:
                2px 0 20px rgba(0, 0, 0, 0.03),
                inset 1px 0 0 rgba(255, 255, 255, 0.6);
        }

        .sidebar.collapsed {
            width: 64px;
        }

        .sidebar.collapsed .logo-text,
        .sidebar.collapsed .new-chat-btn span,
        .sidebar.collapsed .history-date,
        .sidebar.collapsed .history-item,
        .sidebar.collapsed .user-name,
        .sidebar.collapsed .user-id,
        .sidebar.collapsed .sidebar-content,
        .sidebar.collapsed .sidebar-footer {
            display: none;
        }

        .sidebar.collapsed .header-top {
            flex-direction: column;
            gap: 12px;
            margin-bottom: 12px;
        }

        .sidebar.collapsed .logo {
            justify-content: center;
        }

        .sidebar.collapsed .new-chat-btn {
            padding: 12px;
            justify-content: center;
            width: 48px;
            height: 48px;
            border-radius: 12px;
        }

        .sidebar.collapsed .toggle-btn {
            transform: rotate(180deg);
        }

        .sidebar-header {
            padding: 16px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.04);
            flex-shrink: 0;
            transition: padding 0.3s ease;
        }

        .sidebar.collapsed .sidebar-header {
            padding: 12px 8px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .header-top {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 16px;
            transition: all 0.3s ease;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo-icon {
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: #4db8ac;
            flex-shrink: 0;
            transition: all 0.3s ease;
        }

        .sidebar.collapsed .logo-icon {
            width: 40px;
            height: 40px;
        }

        .logo-icon svg {
            width: 32px;
            height: 32px;
        }

        .logo-text {
            font-size: 16px;
            font-weight: 600;
            color: #2a2a2a;
            white-space: nowrap;
            transition: opacity 0.2s ease;
        }

        .toggle-btn {
            width: 32px;
            height: 32px;
            border: none;
            background: rgba(248, 250, 252, 0.6);
            border-radius: 6px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            transition: all 0.3s ease;
            flex-shrink: 0;
        }

        .toggle-btn:hover {
            background: rgba(178, 223, 219, 0.2);
            color: #4db8ac;
        }

        .toggle-btn svg {
            width: 20px;
            height: 20px;
            transition: transform 0.3s ease;
        }

        .new-chat-btn {
            width: 100%;
            padding: 10px 16px;
            background: linear-gradient(135deg, #4db8ac, #5ec9bd);
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .new-chat-btn:hover {
            background: linear-gradient(135deg, #42a89d, #4fb5a9);
            transform: translateY(-1px);
            box-shadow: 0 8px 20px rgba(77, 184, 172, 0.25);
        }

        .new-chat-btn:active {
            transform: translateY(0);
        }

        .new-chat-btn svg {
            width: 18px;
            height: 18px;
            transition: all 0.3s ease;
        }

        .new-chat-btn span {
            transition: opacity 0.2s ease;
        }

        .sidebar-content {
            flex: 1;
            overflow-y: auto;
            overflow-x: hidden;
        }

        .sidebar-content::-webkit-scrollbar {
            width: 4px;
        }

        .sidebar-content::-webkit-scrollbar-thumb {
            background: #e0e0e0;
            border-radius: 2px;
        }

        .sidebar-content::-webkit-scrollbar-track {
            background: transparent;
        }

        /* åŠŸèƒ½æŒ‰é’®åŒºåŸŸï¼ˆåœ¨è¾“å…¥æ¡†ä¸Šæ–¹ï¼‰ */
        .top-features {
            padding: 12px 40px 16px;
            background: transparent;
            display: flex;
            gap: 12px;
            justify-content: center;
        }

        .feature-btn {
            flex: 1;
            max-width: 200px;
            padding: 12px 20px;
            background: rgba(255, 255, 255, 0.4);
            backdrop-filter: blur(30px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.6);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            font-size: 14px;
            font-weight: 500;
            color: #666;
            box-shadow:
                0 4px 16px rgba(0, 0, 0, 0.03),
                inset 0 1px 0 rgba(255, 255, 255, 0.5);
        }

        .feature-btn:hover {
            background: rgba(178, 223, 219, 0.25);
            border-color: rgba(77, 184, 172, 0.3);
            color: #4db8ac;
            transform: translateY(-3px);
            box-shadow:
                0 8px 24px rgba(0, 0, 0, 0.06),
                inset 0 1px 0 rgba(255, 255, 255, 0.7);
        }

        .feature-btn:active {
            transform: translateY(0);
        }

        .feature-btn .nav-icon {
            font-size: 18px;
            width: 20px;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .feature-btn .nav-icon svg {
            width: 20px;
            height: 20px;
        }

        /* åº•éƒ¨ç”¨æˆ·ä¿¡æ¯ */
        .sidebar-footer {
            padding: 16px;
            border-top: 1px solid rgba(0, 0, 0, 0.06);
            flex-shrink: 0;
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 12px;
            cursor: pointer;
            padding: 8px;
            border-radius: 8px;
            transition: all 0.2s;
        }

        .user-profile:hover {
            background: rgba(255, 255, 255, 0.6);
        }

        .user-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            font-weight: 600;
            flex-shrink: 0;
        }

        .user-info {
            flex: 1;
            overflow: hidden;
        }

        .user-name {
            font-size: 14px;
            font-weight: 600;
            color: #1a1a1a;
            line-height: 1.3;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .user-id {
            font-size: 12px;
            color: #999;
            line-height: 1.3;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .history-section {
            padding: 16px;
        }

        .history-group {
            margin-bottom: 20px;
        }

        .history-date {
            font-size: 12px;
            font-weight: 600;
            color: #999;
            padding: 0 4px 8px;
            letter-spacing: 0.3px;
        }

        .history-item {
            padding: 10px 12px;
            margin: 2px 0;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            color: #555;
            transition: all 0.3s;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            line-height: 1.4;
        }

        .history-item:hover {
            background: rgba(178, 223, 219, 0.15);
            color: #4db8ac;
        }

        .history-item.active {
            background: rgba(178, 223, 219, 0.2);
            color: #4db8ac;
            font-weight: 500;
        }


        /* ä¸»å†…å®¹åŒº */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: transparent;
        }


        .chat-area {
            flex: 1;
            overflow-y: auto;
            padding: 40px;
            background: transparent;
        }

        .chat-area::-webkit-scrollbar {
            width: 6px;
        }

        .chat-area::-webkit-scrollbar-thumb {
            background: #d0d0d0;
            border-radius: 3px;
        }

        .welcome-view {
            max-width: 900px;
            margin: 0 auto;
            text-align: center;
        }

        .welcome-logo {
            width: 64px;
            height: 64px;
            margin: 0 auto 24px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .welcome-logo svg {
            width: 64px;
            height: 64px;
        }

        .welcome-title {
            font-size: 32px;
            font-weight: 600;
            color: #1a1a1a;
            margin-bottom: 12px;
        }

        .welcome-subtitle {
            font-size: 16px;
            color: #666;
            margin-bottom: 48px;
            line-height: 1.6;
        }

        .feature-cards {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 40px;
        }

        .feature-card {
            background: white;
            border-radius: 16px;
            padding: 32px 24px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            border: 2px solid #f0f0f0;
            position: relative;
            overflow: hidden;
        }

        .feature-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #1976d2, #42a5f5);
            transform: scaleX(0);
            transition: transform 0.3s;
        }

        .feature-card:hover::before {
            transform: scaleX(1);
        }

        .feature-card:hover {
            transform: translateY(-6px);
            box-shadow: 0 12px 32px rgba(0,0,0,0.12);
            border-color: #1976d2;
        }

        .feature-card:active {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(0,0,0,0.1);
        }

        .feature-icon {
            width: 56px;
            height: 56px;
            margin: 0 auto 20px;
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
        }

        .feature-card:nth-child(1) .feature-icon {
            background: linear-gradient(135deg, #e3f2fd 0%, #90caf9 100%);
        }

        .feature-card:nth-child(2) .feature-icon {
            background: linear-gradient(135deg, #f3e5f5 0%, #ce93d8 100%);
        }

        .feature-card:nth-child(3) .feature-icon {
            background: linear-gradient(135deg, #fff3e0 0%, #ffb74d 100%);
        }

        .feature-card:nth-child(4) .feature-icon {
            background: linear-gradient(135deg, #e8f5e9 0%, #81c784 100%);
        }

        .feature-title {
            font-size: 16px;
            font-weight: 600;
            color: #1a1a1a;
            margin-bottom: 10px;
        }

        .feature-desc {
            font-size: 13px;
            color: #666;
            line-height: 1.6;
        }

        /* å·¥å…·åŒºæ ·å¼ */
        .tools-section {
            margin-top: 32px;
            padding-top: 32px;
            border-top: 1px solid #e8e8e8;
        }

        .tools-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 16px;
        }

        .tools-title {
            font-size: 14px;
            font-weight: 600;
            color: #666;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .tools-title::before {
            content: 'ğŸ› ï¸';
            font-size: 16px;
        }

        .tools-customize {
            font-size: 12px;
            color: #1976d2;
            cursor: pointer;
            padding: 4px 12px;
            border-radius: 6px;
            transition: all 0.2s;
        }

        .tools-customize:hover {
            background: #e3f2fd;
        }

        .tools-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 12px;
        }

        .tool-item {
            background: #f8f9fa;
            border: 1px solid #e8e8e8;
            border-radius: 10px;
            padding: 16px 12px;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
        }

        .tool-item:hover {
            background: white;
            border-color: #1976d2;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        }

        .tool-icon {
            font-size: 20px;
            margin-bottom: 8px;
        }

        .tool-name {
            font-size: 12px;
            font-weight: 500;
            color: #333;
        }

        .messages-view {
            max-width: 800px;
            margin: 0 auto;
            display: none;
        }

        .messages-view.active {
            display: block;
        }

        .message-group {
            margin-bottom: 24px;
            animation: fadeIn 0.3s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .message-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }

        .message-avatar {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 12px;
        }

        .message-avatar.ai {
            background: #e3f2fd;
            color: #1976d2;
        }

        .message-avatar.user {
            background: #f3e5f5;
            color: #7b1fa2;
        }

        .message-name {
            font-size: 13px;
            font-weight: 600;
            color: #1a1a1a;
        }

        .message-time {
            font-size: 11px;
            color: #999;
            margin-left: auto;
        }

        .message-body {
            margin-left: 38px;
            padding: 16px 20px;
            background: rgba(255, 255, 255, 0.4);
            backdrop-filter: blur(30px) saturate(180%);
            border-radius: 14px;
            font-size: 14px;
            line-height: 1.7;
            color: #555;
            border: 1px solid rgba(255, 255, 255, 0.6);
            box-shadow:
                0 4px 16px rgba(0, 0, 0, 0.03),
                inset 0 1px 0 rgba(255, 255, 255, 0.5);
        }

        .message-body strong {
            font-weight: 600;
            color: #2a2a2a;
        }

        .message-actions {
            margin-left: 38px;
            margin-top: 12px;
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .action-chip {
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.4);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.6);
            border-radius: 20px;
            cursor: pointer;
            font-size: 13px;
            color: #666;
            transition: all 0.3s;
            font-weight: 500;
        }

        .action-chip:hover {
            border-color: rgba(77, 184, 172, 0.3);
            color: #4db8ac;
            background: rgba(178, 223, 219, 0.15);
        }

        .action-chip:active {
            background: rgba(178, 223, 219, 0.25);
            border-color: rgba(77, 184, 172, 0.4);
            color: #42a89d;
        }

        .action-chip.primary {
            background: rgba(255, 255, 255, 0.4);
            color: #666;
            border-color: rgba(255, 255, 255, 0.6);
        }

        .action-chip.primary:hover {
            background: rgba(178, 223, 219, 0.2);
            color: #4db8ac;
            border-color: rgba(77, 184, 172, 0.3);
        }

        .action-chip.primary:active {
            background: rgba(178, 223, 219, 0.3);
            color: #42a89d;
            border-color: rgba(77, 184, 172, 0.4);
        }

        .typing-indicator {
            display: flex;
            gap: 4px;
            padding: 16px 20px;
            background: rgba(255, 255, 255, 0.4);
            backdrop-filter: blur(30px);
            border-radius: 12px;
            width: fit-content;
            border: 1px solid rgba(255, 255, 255, 0.8);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            background: #d0d0d0;
            border-radius: 50%;
            animation: typing 1.4s infinite;
        }

        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typing {
            0%, 60%, 100% {
                transform: translateY(0);
                opacity: 0.6;
            }
            30% {
                transform: translateY(-8px);
                opacity: 1;
            }
        }

        /* è¾“å…¥åŒºåŸŸ */
        .input-section {
            padding: 20px 40px 32px;
            background: transparent;
        }

        .upgrade-banner {
            max-width: 800px;
            margin: 0 auto 16px;
            padding: 12px 16px;
            background: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(227, 242, 253, 0.5);
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 13px;
            color: #666;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
        }

        .upgrade-icon {
            color: #7b1fa2;
            font-size: 16px;
        }

        .upgrade-link {
            margin-left: auto;
            color: #1976d2;
            text-decoration: none;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .upgrade-link:hover {
            text-decoration: underline;
        }

        .input-wrapper {
            max-width: 800px;
            margin: 0 auto;
        }

        .input-container {
            background: rgba(255, 255, 255, 0.4);
            backdrop-filter: blur(30px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.6);
            border-radius: 24px;
            padding: 12px 20px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            gap: 12px;
            box-shadow:
                0 4px 20px rgba(0, 0, 0, 0.03),
                inset 0 1px 0 rgba(255, 255, 255, 0.6);
        }

        .input-container:focus-within {
            border-color: rgba(77, 184, 172, 0.3);
            box-shadow:
                0 8px 24px rgba(0, 0, 0, 0.06),
                inset 0 1px 0 rgba(255, 255, 255, 0.8);
            background: rgba(255, 255, 255, 0.6);
        }

        .input-left {
            flex: 1;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .input-right {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .input-field {
            flex: 1;
            border: none;
            outline: none;
            font-size: 14px;
            color: #2a2a2a;
            background: transparent;
            resize: none;
            line-height: 1.5;
            min-height: 24px;
            max-height: 120px;
        }

        .input-field::placeholder {
            color: #999;
        }

        .input-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: none;
            background: transparent;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            transition: all 0.3s;
            flex-shrink: 0;
        }

        .input-btn:hover {
            background: rgba(178, 223, 219, 0.2);
            color: #4db8ac;
        }

        .input-btn:active {
            background: rgba(178, 223, 219, 0.3);
            color: #42a89d;
        }

        .input-btn svg {
            width: 24px;
            height: 24px;
        }

        .input-btn.recording {
            background: #ff5252;
            color: white;
        }

        .input-btn.recording:hover {
            background: #ff1744;
        }

        /* æ·±åº¦æ€è€ƒå¼€å…³ */
        .think-toggle {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 6px 12px;
            border-radius: 20px;
            background: #f5f5f5;
            border: 1px solid #e0e0e0;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 13px;
            color: #666;
            white-space: nowrap;
        }

        .think-toggle:hover {
            background: #ebebeb;
            border-color: #d0d0d0;
        }

        .think-toggle.active {
            background: #e3f2fd;
            border-color: #1976d2;
            color: #1976d2;
        }

        .think-toggle .toggle-switch {
            width: 36px;
            height: 20px;
            background: #d0d0d0;
            border-radius: 10px;
            position: relative;
            transition: all 0.3s;
        }

        .think-toggle.active .toggle-switch {
            background: #1976d2;
        }

        .think-toggle .toggle-switch::after {
            content: '';
            position: absolute;
            width: 16px;
            height: 16px;
            background: white;
            border-radius: 50%;
            top: 2px;
            left: 2px;
            transition: all 0.3s;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .think-toggle.active .toggle-switch::after {
            left: 18px;
        }

        .think-toggle .toggle-icon {
            font-size: 16px;
            display: flex;
            align-items: center;
        }

        .think-toggle .toggle-text {
            font-weight: 500;
        }

        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(245, 247, 250, 0.8);
            backdrop-filter: blur(10px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        .loading-overlay.show {
            display: flex;
        }

        .loading-content {
            text-align: center;
        }

        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 3px solid #f0f0f0;
            border-top-color: #1976d2;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
            margin: 0 auto 12px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .loading-text {
            font-size: 14px;
            color: #666;
        }

        /* ç­–ç•¥å¡ç‰‡æ ·å¼ - å˜ä½“4æ¯›ç»ç’ƒå å±‚è®¾è®¡ï¼ˆç™½è‰²æµ…ç°ä¸»è‰²ï¼‰ */
        .strategy-card {
            background: rgba(255, 255, 255, 0.35);
            backdrop-filter: blur(30px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.5);
            border-radius: 16px;
            padding: 18px 16px;
            cursor: pointer;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow:
                0 4px 20px rgba(0, 0, 0, 0.04),
                inset 0 1px 0 rgba(255, 255, 255, 0.6);
            position: relative;
            overflow: hidden;
        }

        .strategy-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.4) 0%, transparent 70%);
            opacity: 0;
            transition: all 0.6s ease;
        }

        .strategy-card:hover::before {
            opacity: 1;
            top: -100%;
            left: -100%;
        }

        .strategy-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow:
                0 20px 48px rgba(0, 0, 0, 0.08),
                inset 0 1px 0 rgba(255, 255, 255, 0.9);
            background: rgba(255, 255, 255, 0.5);
        }

        .strategy-card-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 12px;
        }

        .strategy-card-icon {
            width: 44px;
            height: 44px;
            border-radius: 12px;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.8), rgba(248, 250, 252, 0.6));
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06);
            transition: all 0.4s ease;
            flex-shrink: 0;
        }

        .strategy-card:hover .strategy-card-icon {
            transform: rotate(12deg) scale(1.12);
            background: linear-gradient(135deg, rgba(178, 223, 219, 0.25), rgba(235, 248, 247, 0.4));
            box-shadow: 0 8px 24px rgba(77, 184, 172, 0.15);
        }

        .strategy-card-icon svg {
            width: 22px;
            height: 22px;
            stroke: #666;
            transition: all 0.4s ease;
        }

        .strategy-card:hover .strategy-card-icon svg {
            stroke: #4db8ac;
        }

        .strategy-card-count {
            font-size: 11px;
            font-weight: 600;
            color: #999;
            background: rgba(255, 255, 255, 0.6);
            padding: 4px 10px;
            border-radius: 10px;
            transition: all 0.3s ease;
        }

        .strategy-card:hover .strategy-card-count {
            background: rgba(178, 223, 219, 0.2);
            color: #4db8ac;
        }

        .strategy-card-content {
            margin-bottom: 10px;
        }

        .strategy-card-title {
            font-size: 12px;
            color: #666;
            font-weight: 500;
            line-height: 1.4;
            margin-bottom: 6px;
        }

        .strategy-card-value {
            font-size: 28px;
            font-weight: 700;
            color: #2a2a2a;
            margin-bottom: 10px;
            line-height: 1;
        }

        .strategy-card:hover .strategy-card-value {
            color: #4db8ac;
        }

        .strategy-card-tags {
            display: flex;
            gap: 6px;
            flex-wrap: wrap;
        }

        .strategy-card-tag {
            padding: 4px 8px;
            background: rgba(178, 223, 219, 0.15);
            border-radius: 8px;
            font-size: 10px;
            color: #4db8ac;
            font-weight: 500;
            opacity: 0;
            transform: translateY(8px);
            transition: all 0.3s ease;
        }

        .strategy-card-tag:nth-child(1) {
            transition-delay: 0.1s;
        }

        .strategy-card-tag:nth-child(2) {
            transition-delay: 0.15s;
        }

        .strategy-card:hover .strategy-card-tag {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- å·¦ä¾§è¾¹æ  -->
        <div class="sidebar collapsed" id="sidebar">
            <!-- é¡¶éƒ¨å›ºå®šåŒºåŸŸ -->
            <div class="sidebar-header">
                <div class="header-top">
                    <div class="logo">
                        <div class="logo-icon">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2"/>
                                <path d="M12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21" stroke="currentColor" stroke-width="2"/>
                                <circle cx="12" cy="12" r="3" fill="currentColor"/>
                            </svg>
                        </div>
                        <div class="logo-text">ç†æƒ³AIåŠ©æ‰‹</div>
                    </div>
                    <button class="toggle-btn" onclick="toggleSidebar()" title="æ”¶èµ·ä¾§è¾¹æ ">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect x="3" y="3" width="18" height="18" rx="2" stroke="currentColor" stroke-width="2"/>
                            <path d="M9 3V21" stroke="currentColor" stroke-width="2"/>
                            <path d="M14 10L11 13L14 16" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
                <button class="new-chat-btn" onclick="newChat()">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 5V19M5 12H19" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    <span>å¼€å¯æ–°å¯¹è¯</span>
                </button>
            </div>

            <!-- ä¸­é—´æ»šåŠ¨åŒºåŸŸ -->
            <div class="sidebar-content">
                <div class="history-section">
                    <div class="history-group">
                        <div class="history-date">ä»Šå¤©</div>
                        <div class="history-item active">ç‹å…ˆç”ŸL9è´­è½¦å’¨è¯¢</div>
                        <div class="history-item">ç†æƒ³L8é‡‘èæ–¹æ¡ˆè®¡ç®—</div>
                        <div class="history-item">é—®ç•ŒM9ç«å“å¯¹æ¯”åˆ†æ</div>
                    </div>

                    <div class="history-group">
                        <div class="history-date">æ˜¨å¤©</div>
                        <div class="history-item">å¼ å¥³å£«L7è¯•é©¾é¢„çº¦</div>
                        <div class="history-item">äºŒæ‰‹è½¦ç½®æ¢è¯„ä¼°æµç¨‹</div>
                        <div class="history-item">å®¶åº­ç”¨æˆ·è´­è½¦éœ€æ±‚åˆ†æ</div>
                        <div class="history-item">L7 Airä¸Maxé…ç½®å¯¹æ¯”</div>
                    </div>

                    <div class="history-group">
                        <div class="history-date">æœ¬å‘¨</div>
                        <div class="history-item">é™ˆå…ˆç”Ÿè®¢å•è·Ÿè¿›è¯æœ¯</div>
                        <div class="history-item">ç†æƒ³L6æ–°å®¢æˆ·æ¥å¾…æ–¹æ¡ˆ</div>
                        <div class="history-item">æ˜¥èŠ‚ä¿ƒé”€æ´»åŠ¨ç­–åˆ’</div>
                        <div class="history-item">æå¥³å£«ä»·æ ¼å¼‚è®®å¤„ç†</div>
                        <div class="history-item">è”šæ¥ES7ä¸L8æ·±åº¦å¯¹æ¯”</div>
                        <div class="history-item">å‘¨å…ˆç”Ÿå¢ç¨‹å¼åŸç†è®²è§£</div>
                        <div class="history-item">æ™ºé©¾åŠŸèƒ½æ¼”ç¤ºè¯æœ¯</div>
                    </div>

                    <div class="history-group">
                        <div class="history-date">ä¸Šå‘¨</div>
                        <div class="history-item">èµµå¥³å£«æˆäº¤ä¿ƒæˆç­–ç•¥</div>
                        <div class="history-item">ç†æƒ³L9æ——èˆ°ç‰ˆäº®ç‚¹ä»‹ç»</div>
                        <div class="history-item">å®¢æˆ·æµå¤±åŸå› åˆ†æ</div>
                        <div class="history-item">åˆ˜å…ˆç”Ÿé¢„ç®—æ–¹æ¡ˆå®šåˆ¶</div>
                        <div class="history-item">è¯•é©¾è·¯çº¿ä¼˜åŒ–å»ºè®®</div>
                    </div>

                    <div class="history-group">
                        <div class="history-date">æœ¬æœˆ</div>
                        <div class="history-item">å´å…ˆç”Ÿè€å®¢æˆ·è½¬ä»‹ç»</div>
                        <div class="history-item">L6 Proç”¨æˆ·ç”»åƒåˆ†æ</div>
                        <div class="history-item">é”€å”®è½¬åŒ–ç‡æå‡æ–¹æ¡ˆ</div>
                        <div class="history-item">éƒ‘å¥³å£«è´­è½¦é¡¾è™‘åŒ–è§£</div>
                        <div class="history-item">ç†æƒ³æ±½è½¦å“ç‰Œæ•…äº‹è®²è§£</div>
                        <div class="history-item">ä¿é™©ä¸ä¸Šç‰ŒæœåŠ¡ä»‹ç»</div>
                        <div class="history-item">å­™å…ˆç”Ÿäº¤è½¦å‡†å¤‡æ¸…å•</div>
                        <div class="history-item">å†¬å­£ç”¨è½¦ä¿å…»å»ºè®®</div>
                    </div>

                    <div class="history-group">
                        <div class="history-date">ä¸Šæœˆ</div>
                        <div class="history-item">é»„å…ˆç”Ÿé•¿æœŸè·Ÿè¿›è®°å½•</div>
                        <div class="history-item">L8ç©ºé—´ä¼˜åŠ¿å±•ç¤ºè¯æœ¯</div>
                        <div class="history-item">å°é¹G9ç«å“åˆ†ææŠ¥å‘Š</div>
                        <div class="history-item">å¾å¥³å£«å¢è´­å®¢æˆ·ç»´æŠ¤</div>
                        <div class="history-item">å­£åº¦é”€å”®ä¸šç»©å¤ç›˜</div>
                    </div>
                </div>
            </div>

            <!-- åº•éƒ¨å›ºå®šåŒºåŸŸ -->
            <div class="sidebar-footer">
                <div class="user-profile">
                    <div class="user-avatar">æ</div>
                    <div class="user-info">
                        <div class="user-name">ææ˜</div>
                        <div class="user-id">152******52</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ä¸»å†…å®¹åŒº -->
        <div class="main-content">
            <div class="chat-area" id="chatArea">
                <!-- æ¬¢è¿è§†å›¾ -->
                <div class="welcome-view" id="welcomeView">
                    <div class="welcome-logo">
                        <svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <circle cx="32" cy="32" r="28" stroke="#1976d2" stroke-width="4"/>
                            <path d="M32 4C16.536 4 4 16.536 4 32C4 47.464 16.536 60 32 60" stroke="#1976d2" stroke-width="4" stroke-linecap="round"/>
                            <circle cx="32" cy="32" r="8" fill="#1976d2"/>
                        </svg>
                    </div>
                    <div class="welcome-title">æ¬¢è¿ä½¿ç”¨ç†æƒ³æ±½è½¦é”€å”®AIåŠ©æ‰‹</div>
                    <div class="welcome-subtitle">
                        æ‚¨çš„ä¸“å±æ™ºèƒ½é”€å”®é¡¾é—®ï¼Œä¸ºä»»ä½•é”€å”®åœºæ™¯æä¾›ä¸“ä¸šæ”¯æŒ<br>
                        è¯·ä»å·¦ä¾§é€‰æ‹©åŠŸèƒ½å¼€å§‹ä½¿ç”¨
                    </div>
                </div>

                <!-- æ¶ˆæ¯è§†å›¾ -->
                <div class="messages-view" id="messagesView">
                    <!-- æ¶ˆæ¯å°†åŠ¨æ€æ’å…¥è¿™é‡Œ -->
                </div>
            </div>

            <!-- è¾“å…¥åŒºåŸŸ -->
            <div class="input-section">
                <!-- åŠŸèƒ½æŒ‰é’® -->
                <div class="top-features">
                    <button class="feature-btn" onclick="startScenario('ä¸šåŠ¡è¯Šæ–­')">
                        <span class="nav-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M3 3V16C3 17.1046 3.89543 18 5 18H21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M18 9L13 14L10 11L7 14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </span>
                        <span>ä¸šåŠ¡è¯Šæ–­</span>
                    </button>
                    <button class="feature-btn" onclick="startScenario('è·å®¢åŠ©æ‰‹')">
                        <span class="nav-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                                <circle cx="12" cy="12" r="6" stroke="currentColor" stroke-width="2"/>
                                <circle cx="12" cy="12" r="2" stroke="currentColor" stroke-width="2"/>
                            </svg>
                        </span>
                        <span>è·å®¢åŠ©æ‰‹</span>
                    </button>
                    <button class="feature-btn" onclick="startScenario('å®¢æˆ·é¡¾é—®')">
                        <span class="nav-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M21 15C21 15.5304 20.7893 16.0391 20.4142 16.4142C20.0391 16.7893 19.5304 17 19 17H7L3 21V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V15Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </span>
                        <span>å®¢æˆ·é¡¾é—®</span>
                    </button>
                    <button class="feature-btn" onclick="startScenario('ä»»åŠ¡åŠ©æ‰‹')">
                        <span class="nav-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M9 11L12 14L22 4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M21 12V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H16" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </span>
                        <span>ä»»åŠ¡åŠ©æ‰‹</span>
                    </button>
                </div>

                <div class="input-wrapper">
                    <div class="input-container">
                        <div class="input-left">
                            <button class="input-btn camera-btn" title="æ‹ç…§æˆ–ä¸Šä¼ å›¾ç‰‡" onclick="showAddMenu()">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M23 19C23 19.5304 22.7893 20.0391 22.4142 20.4142C22.0391 20.7893 21.5304 21 21 21H3C2.46957 21 1.96086 20.7893 1.58579 20.4142C1.21071 20.0391 1 19.5304 1 19V8C1 7.46957 1.21071 6.96086 1.58579 6.58579C1.96086 6.21071 2.46957 6 3 6H7L9 3H15L17 6H21C21.5304 6 22.0391 6.21071 22.4142 6.58579C22.7893 6.96086 23 7.46957 23 8V19Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M12 17C14.2091 17 16 15.2091 16 13C16 10.7909 14.2091 9 12 9C9.79086 9 8 10.7909 8 13C8 15.2091 9.79086 17 12 17Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </button>
                            <textarea
                                class="input-field"
                                id="messageInput"
                                placeholder="å‘æ¶ˆæ¯æˆ–æŒ‰ä½è¯´è¯..."
                                rows="1"
                                onkeydown="handleKey(event)"
                                oninput="autoGrow(this)"
                            ></textarea>
                        </div>
                        <div class="input-right">
                            <button class="input-btn voice-btn" onclick="toggleVoice()" id="voiceBtn" title="è¯­éŸ³è¾“å…¥">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M12 1C10.3431 1 9 2.34315 9 4V12C9 13.6569 10.3431 15 12 15C13.6569 15 15 13.6569 15 12V4C15 2.34315 13.6569 1 12 1Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M19 10V12C19 15.866 15.866 19 12 19C8.13401 19 5 15.866 5 12V10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M12 19V23" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M8 23H16" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </button>
                            <button class="input-btn add-btn" title="æ·»åŠ å†…å®¹" onclick="showAddMenu()">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                                    <path d="M12 8V16M8 12H16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- åŠ è½½åŠ¨ç”» -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <div class="loading-text">AIæ­£åœ¨æ€è€ƒ...</div>
        </div>
    </div>

    <script>
        // å…¨å±€çŠ¶æ€
        let currentScenario = null;
        let scenarioStep = 0;
        let conversationContext = {};
        let isRecording = false;

        // è‡ªå®šä¹‰å·¥å…·åŠŸèƒ½
        function customizeTools() {
            alert('å·¥å…·è‡ªå®šä¹‰åŠŸèƒ½\n\næ‚¨å¯ä»¥ï¼š\nâ€¢ æ·»åŠ /åˆ é™¤å·¥å…·\nâ€¢ è°ƒæ•´å·¥å…·é¡ºåº\nâ€¢ åˆ›å»ºè‡ªå®šä¹‰å·¥å…·\nâ€¢ è®¾ç½®å¸¸ç”¨å·¥å…·');
        }

        // åœºæ™¯æµç¨‹å®šä¹‰
        const scenarios = {
            'ä¸šåŠ¡è¯Šæ–­': {
                steps: [
                    {
                        text: 'ä¸šåŠ¡è¯Šæ–­æ¨¡å¼å·²å¯åŠ¨ã€‚\n\næˆ‘å°†å¸®æ‚¨åˆ†æé”€å”®ä¸šç»©ã€è¯†åˆ«é—®é¢˜å¹¶æä¾›æ”¹è¿›å»ºè®®ã€‚\n\nè¯·é—®æ‚¨æƒ³è¯Šæ–­å“ªä¸ªæ–¹é¢ï¼Ÿ',
                        actions: ['é”€å”®è½¬åŒ–ç‡', 'å®¢æˆ·æµå¤±ç‡', 'è·Ÿè¿›æ•ˆç‡', 'å…¨é¢è¯Šæ–­']
                    },
                    {
                        text: 'æ­£åœ¨åˆ†ææ‚¨çš„<strong>é”€å”®è½¬åŒ–ç‡</strong>...\n\nğŸ“Š <strong>æ•°æ®æ¦‚è§ˆ</strong>\nâ€¢ åˆ°åº—è½¬åŒ–ç‡ï¼š35%ï¼ˆè¡Œä¸šå¹³å‡ï¼š42%ï¼‰\nâ€¢ è¯•é©¾è½¬åŒ–ç‡ï¼š48%ï¼ˆè¡Œä¸šå¹³å‡ï¼š55%ï¼‰\nâ€¢ è®¢å•è½¬åŒ–ç‡ï¼š23%ï¼ˆè¡Œä¸šå¹³å‡ï¼š28%ï¼‰\n\nâš ï¸ <strong>é—®é¢˜è¯†åˆ«</strong>\n1. åˆ°åº—è½¬åŒ–ç‡åä½\n2. è¯•é©¾åæœªæˆäº¤å æ¯”é«˜\n\nä¸‹ä¸€æ­¥æ“ä½œï¼Ÿ',
                        actions: ['æŸ¥çœ‹å»ºè®®', 'è¯¦ç»†åˆ†æ', 'å¯¹æ¯”åŒæœŸ', 'å¯¼å‡ºæŠ¥å‘Š']
                    }
                ]
            },
            'è·å®¢åŠ©æ‰‹': {
                steps: [
                    {
                        text: 'è·å®¢åŠ©æ‰‹å·²å¯åŠ¨ï¼\n\næˆ‘å°†å¸®æ‚¨åˆ¶å®šç²¾å‡†è·å®¢ç­–ç•¥ï¼Œæå‡çº¿ç´¢è´¨é‡å’Œè½¬åŒ–æ•ˆç‡ã€‚\n\nè¯·é—®æ‚¨å½“å‰çš„è·å®¢æ¸ é“ä¸»è¦æ˜¯ï¼Ÿ',
                        actions: ['çº¿ä¸Šæ¸ é“', 'çº¿ä¸‹æ´»åŠ¨', 'è€å®¢è½¬ä»‹', 'å¤šæ¸ é“æ··åˆ']
                    },
                    {
                        text: 'æ”¶åˆ°ï¼é’ˆå¯¹<strong>çº¿ä¸Šæ¸ é“</strong>è·å®¢ï¼Œæˆ‘ä¸ºæ‚¨å‡†å¤‡äº†ä¼˜åŒ–æ–¹æ¡ˆï¼š\n\nğŸ¯ <strong>ç²¾å‡†æŠ•æ”¾ç­–ç•¥</strong>\nâ€¢ ç›®æ ‡äººç¾¤ï¼š25-45å²å®¶åº­ç”¨æˆ·\nâ€¢ æ¨å¹¿å¹³å°ï¼šæŠ–éŸ³ã€å°çº¢ä¹¦ã€å¾®ä¿¡\nâ€¢ å…³é”®è¯ï¼šæ™ºèƒ½ç”µé©¾ã€å®¶åº­ç”¨è½¦\n\nğŸ“ <strong>å†…å®¹è¥é”€å»ºè®®</strong>\nâ€¢ çœŸå®è½¦ä¸»æ•…äº‹\nâ€¢ å®¶åº­å‡ºè¡Œåœºæ™¯\nâ€¢ æ™ºé©¾ä½“éªŒè§†é¢‘\n\néœ€è¦ç”Ÿæˆå…·ä½“æ–¹æ¡ˆå—ï¼Ÿ',
                        actions: ['ç”ŸæˆæŠ•æ”¾æ–¹æ¡ˆ', 'å†…å®¹åˆ›æ„åº“', 'é¢„ç®—è§„åˆ’', 'æ•ˆæœé¢„ä¼°']
                    }
                ]
            },
            'å®¢æˆ·é¡¾é—®': {
                steps: [
                    {
                        text: 'å®¢æˆ·é¡¾é—®æ¨¡å¼å·²å¯åŠ¨ã€‚\n\næˆ‘å°†ä½œä¸ºæ‚¨çš„æ™ºèƒ½åŠ©æ‰‹ï¼Œå¸®åŠ©æ‚¨æ·±åº¦äº†è§£å®¢æˆ·éœ€æ±‚ï¼Œæä¾›ä¸ªæ€§åŒ–æœåŠ¡æ–¹æ¡ˆã€‚\n\nè¯·é—®å®¢æˆ·ç›®å‰å¤„äºå“ªä¸ªé˜¶æ®µï¼Ÿ',
                        actions: ['åˆæ¬¡åˆ°åº—', 'å¯¹æ¯”é€‰æ‹©', 'å‡†å¤‡ä¸‹å•', 'å”®åæœåŠ¡']
                    },
                    {
                        text: 'äº†è§£ï¼å®¢æˆ·å¤„äº<strong>å¯¹æ¯”é€‰æ‹©</strong>é˜¶æ®µã€‚\n\nè®©æˆ‘å¸®æ‚¨æ·±å…¥äº†è§£å®¢æˆ·ï¼š\n\nâ“ <strong>éœ€æ±‚è¯Šæ–­</strong>\nè¯·å‘Šè¯‰æˆ‘å®¢æˆ·çš„åŸºæœ¬æƒ…å†µï¼š\nâ€¢ å®¶åº­äººå£\nâ€¢ ç”¨è½¦åœºæ™¯\nâ€¢ é¢„ç®—èŒƒå›´\nâ€¢ å…³æ³¨é‡ç‚¹\n\næˆ‘å°†ä¸ºæ‚¨ç”Ÿæˆå®šåˆ¶åŒ–çš„æ¨èæ–¹æ¡ˆã€‚',
                        actions: ['è¾“å…¥å®¢æˆ·ä¿¡æ¯', 'æ™ºèƒ½é—®å·', 'å†å²è®°å½•', 'ç«å“åˆ†æ']
                    }
                ]
            },
            'ä»»åŠ¡åŠ©æ‰‹': {
                steps: [
                    {
                        text: 'ä»»åŠ¡åŠ©æ‰‹å·²å¯åŠ¨ï¼\n\næˆ‘å°†å¸®æ‚¨ç®¡ç†é”€å”®ä»»åŠ¡ï¼Œè®¾ç½®è·Ÿè¿›æé†’ï¼Œæå‡å·¥ä½œæ•ˆç‡ã€‚\n\nè¯·é—®æ‚¨éœ€è¦ä»€ä¹ˆå¸®åŠ©ï¼Ÿ',
                        actions: ['åˆ›å»ºä»»åŠ¡', 'æŸ¥çœ‹å¾…åŠ', 'è·Ÿè¿›æé†’', 'æ•ˆç‡åˆ†æ']
                    },
                    {
                        text: 'ä¸ºæ‚¨åˆ›å»ºé”€å”®ä»»åŠ¡ï¼š\n\nğŸ“‹ <strong>ä»»åŠ¡ç±»å‹</strong>\nè¯·é€‰æ‹©è¦åˆ›å»ºçš„ä»»åŠ¡ç±»å‹ï¼š',
                        actions: ['å®¢æˆ·è·Ÿè¿›', 'è¯•é©¾å®‰æ’', 'åˆåŒç­¾è®¢', 'äº¤è½¦å‡†å¤‡', 'è‡ªå®šä¹‰ä»»åŠ¡']
                    }
                ]
            },
            'æ–°å®¢æ¥å¾…': {
                steps: [
                    {
                        text: 'å·²ä¸ºæ‚¨ç”Ÿæˆä¸“ä¸šçš„æ¬¢è¿è¯æœ¯ï¼š\n\n<strong>"æ‚¨å¥½ï¼Œæ¬¢è¿å…‰ä¸´ç†æƒ³æ±½è½¦ï¼æˆ‘æ˜¯æ‚¨çš„ä¸“å±é¡¾é—®ææ˜ã€‚"</strong>\n\n"çœ‹åˆ°æ‚¨ä»Šå¤©æ¥åº—é‡Œï¼Œæˆ‘ç‰¹åˆ«é«˜å…´ã€‚ç†æƒ³æ±½è½¦ä¸“æ³¨ä¸ºå®¶åº­ç”¨æˆ·æ‰“é€ å®‰å…¨ã€èˆ’é€‚çš„æ™ºèƒ½ç”µåŠ¨è½¦ã€‚æˆ‘ä»¬ç›®å‰æœ‰L6ã€L7ã€L8ã€L9å››æ¬¾è½¦å‹ï¼Œæ¯ä¸€æ¬¾éƒ½æœ‰ç‹¬ç‰¹çš„ä¼˜åŠ¿ã€‚"\n\nè¯·é—®æ‚¨ä¹‹å‰å¯¹ç†æƒ³æ±½è½¦æœ‰äº†è§£å—ï¼Ÿ',
                        actions: ['ç›´æ¥ä½¿ç”¨', 'è°ƒæ•´è¯­æ°”', 'å¤åˆ¶è¯æœ¯']
                    },
                    {
                        text: 'å¾ˆå¥½ï¼ç°åœ¨è®©æˆ‘å¸®æ‚¨äº†è§£å®¢æˆ·çš„ç”¨è½¦éœ€æ±‚ã€‚\n\nè¯·é—®å®¢æˆ·å®¶åº­äººå£æƒ…å†µå¦‚ä½•ï¼Ÿè¿™å°†å¸®åŠ©æˆ‘ä»¬æ¨èæœ€åˆé€‚çš„è½¦å‹ã€‚',
                        actions: ['3äººä»¥ä¸‹', '4-5äºº', '5äººä»¥ä¸Š', 'ä¸ç¡®å®š']
                    },
                    {
                        text: 'æ˜ç™½äº†ï¼4-5äººå®¶åº­ï¼Œæˆ‘å»ºè®®é‡ç‚¹æ¨è <strong>ç†æƒ³L8ï¼ˆ6åº§ï¼‰</strong>ã€‚\n\n<strong>æ ¸å¿ƒå–ç‚¹ï¼š</strong>\nâ€¢ ç¬¬äºŒæ’ç‹¬ç«‹åº§æ¤…ï¼Œä¹˜åèˆ’é€‚\nâ€¢ ä¸­é—´è¿‡é“ï¼Œç…§é¡¾å®¶äººæ–¹ä¾¿\nâ€¢ 2920mmè½´è·ï¼Œç©ºé—´å®½æ•\n\nå®¢æˆ·ä¸»è¦å…³æ³¨å“ªæ–¹é¢ï¼Ÿ',
                        actions: ['ä»·æ ¼', 'ç©ºé—´èˆ’é€‚', 'æ™ºèƒ½é©¾é©¶', 'æ€§èƒ½é…ç½®']
                    },
                    {
                        text: 'å®Œç¾ï¼ç©ºé—´èˆ’é€‚æ˜¯L8çš„å¼ºé¡¹ã€‚ä¸ºæ‚¨ç”Ÿæˆè¯¦ç»†è®²è§£è¯æœ¯ï¼š\n\n<strong>L8ç©ºé—´ä¼˜åŠ¿ï¼š</strong>\n\nğŸš— è¶…å¤§ç©ºé—´\nâ€¢ è½¦é•¿5218mmï¼Œè½´è·2920mm\nâ€¢ ç¬¬äºŒæ’è…¿éƒ¨ç©ºé—´1050mm\nâ€¢ åå¤‡ç®±æ ‡å‡†180Lï¼Œæœ€å¤§å¯æ‰©å±•è‡³1900L\n\nğŸ’º èˆ’é€‚åº§æ¤…\nâ€¢ ç¬¬äºŒæ’ç‹¬ç«‹èˆªç©ºåº§æ¤…\nâ€¢ 10å±‚èˆ’é€‚åå«ï¼Œé•¿é€”ä¸ç´¯\nâ€¢ åº§æ¤…åŠ çƒ­/é€šé£/æŒ‰æ‘©å…¨é…\n\nä¸‹ä¸€æ­¥å»ºè®®ï¼Ÿ',
                        actions: ['æŸ¥çœ‹é…ç½®è¡¨', 'è®¡ç®—è½åœ°ä»·', 'å®‰æ’è¯•é©¾', 'å‘é€è¯æœ¯']
                    }
                ]
            },
            'äº§å“å¯¹æ¯”': {
                steps: [
                    {
                        text: 'äº§å“å¯¹æ¯”å·¥å…·å·²å¯åŠ¨ã€‚è¯·é€‰æ‹©è¦å¯¹æ¯”çš„è½¦å‹ï¼š',
                        actions: ['L6 vs L7', 'L7 vs L8', 'L8 vs L9', 'è‡ªå®šä¹‰å¯¹æ¯”']
                    },
                    {
                        text: 'æ”¶åˆ°ï¼<strong>L7 vs L8</strong> å¯¹æ¯”åˆ†æã€‚\n\nå®¢æˆ·ä¸»è¦å…³æ³¨å“ªæ–¹é¢çš„å¯¹æ¯”ï¼Ÿ',
                        actions: ['å…¨é¢å¯¹æ¯”', 'ç©ºé—´å·®å¼‚', 'é…ç½®å·®å¼‚', 'ä»·æ ¼å·®å¼‚']
                    },
                    {
                        text: 'ä¸ºæ‚¨ç”Ÿæˆ<strong>ç©ºé—´è¯¦ç»†å¯¹æ¯”</strong>ï¼š\n\nğŸš— <strong>ç†æƒ³L7ï¼ˆ5åº§ï¼‰</strong>\nâ€¢ å°ºå¯¸ï¼š5050Ã—1995Ã—1750mm\nâ€¢ è½´è·ï¼š2920mm\nâ€¢ åå¤‡ç®±ï¼š240Lï¼ˆæ ‡å‡†ï¼‰\n\nğŸš— <strong>ç†æƒ³L8ï¼ˆ6åº§ï¼‰</strong>\nâ€¢ å°ºå¯¸ï¼š5218Ã—1998Ã—1800mm\nâ€¢ è½´è·ï¼š2920mmï¼ˆåŒL7ï¼‰\nâ€¢ åå¤‡ç®±ï¼š180Lï¼ˆæ ‡å‡†ï¼‰\nâ€¢ ç‹¬ç‰¹ä¼˜åŠ¿ï¼šç¬¬äºŒæ’ç‹¬ç«‹åº§æ¤…\n\nå®¢æˆ·çš„å®¶åº­æƒ…å†µå¦‚ä½•ï¼Ÿ',
                        actions: ['3å£ä¹‹å®¶', 'äºŒèƒå®¶åº­', 'ä¸‰ä»£åŒå ‚', 'å•†åŠ¡ç”¨è½¦']
                    }
                ]
            },
            'ä»·æ ¼å¼‚è®®': {
                steps: [
                    {
                        text: 'æ£€æµ‹åˆ°ä»·æ ¼å¼‚è®®åœºæ™¯ã€‚è®©æˆ‘å¸®æ‚¨åº”å¯¹ã€‚\n\né¦–å…ˆï¼Œè¯·é—®å®¢æˆ·åœ¨å¯¹æ¯”å“ªæ¬¾è½¦å‹ï¼Ÿ',
                        actions: ['L6', 'L7', 'L8', 'L9']
                    },
                    {
                        text: 'æ˜ç™½äº†ï¼Œå®¢æˆ·å…³æ³¨<strong>L7</strong>çš„ä»·æ ¼ã€‚\n\nè¯·é—®å®¢æˆ·ä¸»è¦å¯¹æ¯”çš„ç«å“æ˜¯ï¼Ÿ',
                        actions: ['é—®ç•ŒM7', 'è”šæ¥ES6', 'å°é¹G9', 'ç‡ƒæ²¹è½¦']
                    },
                    {
                        text: 'æ”¶åˆ°ï¼L7 vs <strong>é—®ç•ŒM7</strong> çš„ä»·æ ¼å¯¹æ¯”ï¼š\n\nğŸ’° <strong>ä»·æ ¼åˆ†æ</strong>\nâ€¢ ç†æƒ³L7ï¼š31.98-37.98ä¸‡\nâ€¢ é—®ç•ŒM7ï¼š24.98-32.98ä¸‡\nâ€¢ å·®ä»·ï¼šçº¦5-7ä¸‡\n\nâœ… <strong>ç†æƒ³L7ä¼˜åŠ¿</strong>\n1. ç©ºé—´æ›´å¤§ï¼ˆè½´è·+100mmï¼‰\n2. æ™ºé©¾æ›´å¼ºï¼ˆåŸå¸‚NOAå…¨å›½å¼€é€šï¼‰\n3. ä½¿ç”¨æˆæœ¬æ›´ä½ï¼ˆå¹´çœ8000å…ƒï¼‰\n4. ä¿å€¼ç‡æ›´é«˜ï¼ˆ3å¹´ä¿å€¼68%ï¼‰\n\néœ€è¦è¿›ä¸€æ­¥æ“ä½œï¼Ÿ',
                        actions: ['å‘é€è¯æœ¯', 'è¯¦ç»†å¯¹æ¯”è¡¨', 'é‡‘èæ–¹æ¡ˆ', 'ä½¿ç”¨æˆæœ¬']
                    }
                ]
            },
            'è¯•é©¾ç®¡ç†': {
                steps: [
                    {
                        text: 'è¯•é©¾ç®¡ç†æµç¨‹å·²å¯åŠ¨ã€‚\n\nè¯·é—®å®¢æˆ·ç¡®å®šè¦è¯•é©¾çš„è½¦å‹äº†å—ï¼Ÿ',
                        actions: ['L6', 'L7', 'L8', 'L9', 'è¿˜åœ¨å¯¹æ¯”']
                    },
                    {
                        text: 'å¾ˆå¥½ï¼å®¢æˆ·é€‰æ‹©è¯•é©¾<strong>L7</strong>ã€‚\n\nè¯·é—®å®¢æˆ·çš„è¯•é©¾æ—¶é—´åå¥½ï¼Ÿ',
                        actions: ['ä»Šå¤©', 'æ˜å¤©', 'æœ¬å‘¨æœ«', 'ä¸‹å‘¨']
                    },
                    {
                        text: 'å®Œç¾ï¼ä»Šå¤©è¯•é©¾ã€‚ä¸ºæ‚¨å‡†å¤‡å®Œæ•´æ–¹æ¡ˆï¼š\n\nğŸ“… <strong>è¯•é©¾å®‰æ’</strong>\nâ€¢ æ—¶é—´ï¼šä»Šå¤©ä¸‹åˆ3:00-3:45\nâ€¢ è½¦å‹ï¼šç†æƒ³L7 Max\nâ€¢ æ—¶é•¿ï¼š45åˆ†é’Ÿ\n\nğŸ—ºï¸ <strong>æ¨èè·¯çº¿</strong>\n1. åŸå¸‚é“è·¯ä½“éªŒï¼ˆ20åˆ†é’Ÿï¼‰\n2. é«˜é€Ÿè·¯æ®µï¼ˆ15åˆ†é’Ÿï¼‰\n3. è¿”å›è®²è§£ï¼ˆ10åˆ†é’Ÿï¼‰\n\nä¸‹ä¸€æ­¥æ“ä½œï¼Ÿ',
                        actions: ['å¤åˆ¶è¯æœ¯', 'å‘é€é‚€çº¦', 'åˆ›å»ºæ—¥ç¨‹', 'è¯•é©¾å®Œæˆ']
                    }
                ]
            }
        };

        // å¼€å§‹åœºæ™¯
        function startScenario(scenario) {
            currentScenario = scenario;
            scenarioStep = 0;

            document.getElementById('welcomeView').style.display = 'none';
            document.getElementById('messagesView').classList.add('active');

            addMsg('user', `å¼€å§‹${scenario}æµç¨‹`);

            setTimeout(() => {
                showLoading();
                setTimeout(() => {
                    hideLoading();
                    showScenarioStep();
                }, 1000);
            }, 200);
        }

        function showScenarioStep() {
            if (!currentScenario || !scenarios[currentScenario]) return;

            const scenario = scenarios[currentScenario];
            if (scenarioStep >= scenario.steps.length) {
                addMsg('ai', 'æœ¬è½®å¯¹è¯å·²å®Œæˆï¼è¿˜éœ€è¦å…¶ä»–å¸®åŠ©å—ï¼Ÿ', ['æ–°å»ºå¯¹è¯', 'ç»§ç»­å’¨è¯¢']);
                return;
            }

            const step = scenario.steps[scenarioStep];
            addMsg('ai', step.text, step.actions);
        }

        function handleAction(action) {
            addMsg('user', action);
            scenarioStep++;

            setTimeout(() => {
                showLoading();
                setTimeout(() => {
                    hideLoading();
                    showScenarioStep();
                }, 800);
            }, 200);
        }

        function quickAction(action) {
            addMsg('user', action);
            setTimeout(() => {
                showLoading();
                setTimeout(() => {
                    hideLoading();
                    addMsg('ai', 'æˆ‘ä¸ºæ‚¨æä¾›ä¸€äº›åˆ›æ–°çš„é”€å”®æ€è·¯å’Œå»ºè®®...', ['æŸ¥çœ‹æ›´å¤š', 'åº”ç”¨åˆ°å¯¹è¯']);
                }, 800);
            }, 200);
        }

        function addMsg(type, text, actions = null) {
            const container = document.getElementById('messagesView');
            const div = document.createElement('div');
            div.className = 'message-group';

            let actionsHTML = '';
            if (actions && actions.length > 0) {
                actionsHTML = '<div class="message-actions">';
                actions.forEach((a, i) => {
                    const cls = i === 0 ? ' primary' : '';
                    actionsHTML += `<button class="action-chip${cls}" onclick="handleAction('${a}')">${a}</button>`;
                });
                actionsHTML += '</div>';
            }

            div.innerHTML = `
                <div class="message-header">
                    <div class="message-avatar ${type}">
                        ${type === 'ai' ? 'AI' : 'æˆ‘'}
                    </div>
                    <div class="message-name">${type === 'ai' ? 'ç†æƒ³åŠ©æ‰‹' : 'ææ˜'}</div>
                    <div class="message-time">${getTime()}</div>
                </div>
                <div class="message-body">${text.replace(/\n/g, '<br>')}</div>
                ${actionsHTML}
            `;

            container.appendChild(div);
            scrollToBottom();
        }

        function showTyping() {
            const container = document.getElementById('messagesView');
            const div = document.createElement('div');
            div.id = 'typing';
            div.className = 'message-group';
            div.innerHTML = `
                <div class="message-header">
                    <div class="message-avatar ai">AI</div>
                    <div class="message-name">ç†æƒ³åŠ©æ‰‹</div>
                </div>
                <div class="typing-indicator" style="margin-left: 38px;">
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                </div>
            `;
            container.appendChild(div);
            scrollToBottom();
        }

        function hideTyping() {
            const el = document.getElementById('typing');
            if (el) el.remove();
        }

        function showLoading() {
            document.getElementById('loadingOverlay').classList.add('show');
        }

        function hideLoading() {
            document.getElementById('loadingOverlay').classList.remove('show');
        }

        function send() {
            const input = document.getElementById('messageInput');
            const text = input.value.trim();
            if (!text) return;

            if (document.getElementById('welcomeView').style.display !== 'none') {
                document.getElementById('welcomeView').style.display = 'none';
                document.getElementById('messagesView').classList.add('active');
            }

            addMsg('user', text);
            input.value = '';
            input.style.height = 'auto';

            intelligentResponse(text);
        }

        function intelligentResponse(text) {
            setTimeout(() => {
                showLoading();
                setTimeout(() => {
                    hideLoading();

                    if (text.includes('æ¬¢è¿') || text.includes('æ¥å¾…') || text.includes('æ–°å®¢')) {
                        startScenario('æ–°å®¢æ¥å¾…');
                    } else if (text.includes('è´µ') || text.includes('ä»·æ ¼')) {
                        startScenario('ä»·æ ¼å¼‚è®®');
                    } else if (text.includes('å¯¹æ¯”') || text.includes('åŒºåˆ«')) {
                        startScenario('äº§å“å¯¹æ¯”');
                    } else if (text.includes('è¯•é©¾')) {
                        startScenario('è¯•é©¾ç®¡ç†');
                    } else {
                        addMsg('ai', 'æˆ‘ç†è§£æ‚¨çš„éœ€æ±‚ã€‚è®©æˆ‘ä¸ºæ‚¨æä¾›ä¸“ä¸šçš„å»ºè®®å’Œæ–¹æ¡ˆã€‚', ['æŸ¥çœ‹è¯¦æƒ…', 'ç”Ÿæˆæ–¹æ¡ˆ', 'ç»§ç»­å’¨è¯¢']);
                    }
                }, 1000);
            }, 200);
        }

        function handleKey(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                send();
            }
        }

        function autoGrow(el) {
            el.style.height = 'auto';
            el.style.height = Math.min(el.scrollHeight, 120) + 'px';
        }


        function toggleVoice() {
            const btn = document.getElementById('voiceBtn');
            isRecording = !isRecording;

            if (isRecording) {
                btn.classList.add('recording');
                btn.title = 'åœæ­¢å½•éŸ³';
            } else {
                btn.classList.remove('recording');
                btn.title = 'è¯­éŸ³è¾“å…¥';
                const input = document.getElementById('messageInput');
                input.value = 'å®¢æˆ·è¯´L7å¤ªè´µäº†ï¼Œæ€ä¹ˆåŠï¼Ÿ';
                input.focus();
            }
        }

        function getTime() {
            const now = new Date();
            return `${now.getHours()}:${String(now.getMinutes()).padStart(2, '0')}`;
        }

        function scrollToBottom() {
            const area = document.getElementById('chatArea');
            setTimeout(() => {
                area.scrollTop = area.scrollHeight;
            }, 100);
        }

        function newChat() {
            currentScenario = null;
            scenarioStep = 0;
            conversationContext = {};

            // æ¸…ç©ºæ¶ˆæ¯
            document.getElementById('messagesView').innerHTML = '';
            document.getElementById('messagesView').classList.remove('active');

            // æ˜¾ç¤ºæ¬¢è¿é¡µ
            document.getElementById('welcomeView').style.display = 'block';

            // æ¸…ç©ºè¾“å…¥æ¡†
            const input = document.getElementById('messageInput');
            input.value = '';
            input.style.height = 'auto';

            // æ»šåŠ¨åˆ°é¡¶éƒ¨
            document.getElementById('chatArea').scrollTop = 0;
        }

        function showAllHistory() {
            alert('æ˜¾ç¤ºæ‰€æœ‰å†å²å¯¹è¯...');
        }

        // åˆ‡æ¢ä¾§è¾¹æ å±•å¼€/æ”¶èµ·
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('collapsed');
        }

        // æ·»åŠ å†…å®¹èœå•
        function showAddMenu() {
            alert('æ·»åŠ å†…å®¹åŠŸèƒ½ï¼šå¯ä»¥æ·»åŠ æ–‡ä»¶ã€å›¾ç‰‡ã€æ–‡æ¡£ç­‰');
        }

        // æ·±åº¦æ€è€ƒåˆ‡æ¢
        let isDeepThinking = false;
        function toggleDeepThink() {
            const toggle = document.getElementById('thinkToggle');
            isDeepThinking = !isDeepThinking;

            if (isDeepThinking) {
                toggle.classList.add('active');
            } else {
                toggle.classList.remove('active');
            }
        }

        // æ›´å¤šé€‰é¡¹
        function showMoreOptions() {
            alert('æ›´å¤šé€‰é¡¹ï¼šæ¨¡å‹è®¾ç½®ã€å¯¼å‡ºå¯¹è¯ã€æ¸…ç©ºå†å²ç­‰');
        }

        // é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨å¼€å¯æ™ºèƒ½åˆ†æ
        window.addEventListener('DOMContentLoaded', function() {
            // éšè—æ¬¢è¿é¡µé¢ï¼Œæ˜¾ç¤ºæ¶ˆæ¯è§†å›¾
            document.getElementById('welcomeView').style.display = 'none';
            document.getElementById('messagesView').classList.add('active');

            // å»¶è¿Ÿ500msåå¼€å§‹AIè‡ªåŠ¨å¯¹è¯
            setTimeout(() => {
                startAutoAnalysis();
            }, 500);
        });

        // è‡ªåŠ¨æ™ºèƒ½åˆ†ææµç¨‹
        function startAutoAnalysis() {
            showLoading();

            setTimeout(() => {
                hideLoading();

                // AIä¸»åŠ¨åˆ†ææ¶ˆæ¯
                const analysisText = `æ‚¨å¥½ï¼æˆ‘å·²ç»åˆ†æäº†æ‚¨å½“å‰çš„å®¢æˆ·æ•°æ®ã€‚\n\nğŸ“Š <strong>å®¢æˆ·æ¦‚å†µ</strong>\nâ€¢ å¾…è·Ÿè¿›å®¢æˆ·ï¼š<strong>12ä½</strong>\nâ€¢ æœªè¯•é©¾å®¢æˆ·ï¼š<strong>5ä½</strong>\nâ€¢ å·²è¯•é©¾æœªæˆäº¤ï¼š<strong>4ä½</strong>\nâ€¢ ä»Šæ—¥åˆ°æœŸè·Ÿè¿›ï¼š<strong>3ä½</strong>\n\nğŸ’¡ æˆ‘ä¸ºæ‚¨å‡†å¤‡äº†é’ˆå¯¹æ€§çš„è·Ÿè¿›ç­–ç•¥ï¼Œè¯·é€‰æ‹©æ‚¨æƒ³è¦å¤„ç†çš„å®¢æˆ·ç±»å‹ï¼š`;

                addMsg('ai', analysisText, []);

                // æ·»åŠ ç­–ç•¥å¡ç‰‡
                setTimeout(() => {
                    addStrategyCards();
                }, 800);
            }, 1500);
        }

        // æ·»åŠ ç­–ç•¥å¡ç‰‡
        function addStrategyCards() {
            const container = document.getElementById('messagesView');
            const cardsDiv = document.createElement('div');
            cardsDiv.className = 'strategy-cards-container';
            cardsDiv.style.cssText = 'margin: 0 0 24px 38px; display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; max-width: 800px;';

            const cards = [
                {
                    title: 'æœªè¯•é©¾å®¢æˆ·',
                    value: '5',
                    count: '+2',
                    tags: ['é«˜æ„å‘', 'å¾…è·Ÿè¿›'],
                    icon: '<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 12H8.01M12 12H12.01M16 12H16.01M21 12C21 16.9706 16.9706 21 12 21C10.4607 21 9.01172 20.5983 7.76923 19.8925L3 21L4.10769 16.2308C3.40175 14.9883 3 13.5393 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>',
                    action: 'æœªè¯•é©¾å®¢æˆ·'
                },
                {
                    title: 'å·²è¯•é©¾å¾…ä¿ƒæˆ',
                    value: '4',
                    count: '68%',
                    tags: ['çƒ­åº¦é«˜', 'ä¿ƒæˆä¸­'],
                    icon: '<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="10" stroke-width="2"/><circle cx="12" cy="12" r="6" stroke-width="2"/><circle cx="12" cy="12" r="2" stroke-width="2"/></svg>',
                    action: 'å·²è¯•é©¾å®¢æˆ·'
                },
                {
                    title: 'ä»Šæ—¥åˆ°æœŸè·Ÿè¿›',
                    value: '3',
                    count: '5h',
                    tags: ['ç´§æ€¥', 'ä»Šæ—¥'],
                    icon: '<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="9" stroke-width="2"/><path d="M12 6V12L16 14" stroke-width="2" stroke-linecap="round"/></svg>',
                    action: 'åˆ°æœŸè·Ÿè¿›'
                },
                {
                    title: 'é•¿æœŸæœªè”ç³»',
                    value: '6',
                    count: '7d+',
                    tags: ['éœ€å”¤é†’', 'ä½æ´»è·ƒ'],
                    icon: '<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3 3V16C3 17.1046 3.89543 18 5 18H21" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M18 9L13 14L10 11L7 14" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>',
                    action: 'é•¿æœŸæœªè”ç³»'
                }
            ];

            cards.forEach(card => {
                const tagsHTML = card.tags.map(tag => `<div class="strategy-card-tag">${tag}</div>`).join('');
                const cardHTML = `
                    <div class="strategy-card" onclick="handleStrategyCard('${card.action}')">
                        <div class="strategy-card-header">
                            <div class="strategy-card-icon">${card.icon}</div>
                            <div class="strategy-card-count">${card.count}</div>
                        </div>
                        <div class="strategy-card-content">
                            <div class="strategy-card-title">${card.title}</div>
                            <div class="strategy-card-value">${card.value}ä½</div>
                        </div>
                        <div class="strategy-card-tags">
                            ${tagsHTML}
                        </div>
                    </div>
                `;
                cardsDiv.innerHTML += cardHTML;
            });

            container.appendChild(cardsDiv);
            scrollToBottom();
        }

        // å¤„ç†ç­–ç•¥å¡ç‰‡ç‚¹å‡»
        function handleStrategyCard(type) {
            addMsg('user', `æŸ¥çœ‹${type}å®¢æˆ·`);

            setTimeout(() => {
                showLoading();
                setTimeout(() => {
                    hideLoading();
                    showStrategyDetail(type);
                }, 1000);
            }, 200);
        }

        // æ˜¾ç¤ºç­–ç•¥è¯¦æƒ…
        function showStrategyDetail(type) {
            let detailText = '';
            let actions = [];

            if (type === 'æœªè¯•é©¾å®¢æˆ·') {
                detailText = `<strong>æœªè¯•é©¾å®¢æˆ·åˆ†æ</strong>\n\nğŸ‘¤ <strong>å®¢æˆ·åˆ—è¡¨ï¼š</strong>\n1. å¼ å…ˆç”Ÿ - L7æ„å‘ - å·²å’¨è¯¢3å¤©\n2. æå¥³å£« - L8æ„å‘ - å·²å’¨è¯¢5å¤©\n3. ç‹å…ˆç”Ÿ - L9æ„å‘ - å·²å’¨è¯¢2å¤©\n4. èµµå¥³å£« - L7æ„å‘ - å·²å’¨è¯¢7å¤©\n5. åˆ˜å…ˆç”Ÿ - L8æ„å‘ - å·²å’¨è¯¢4å¤©\n\nğŸ’¡ <strong>å»ºè®®ç­–ç•¥ï¼š</strong>\nâ€¢ ä¸»åŠ¨é‚€çº¦è¯•é©¾ï¼Œå¼ºè°ƒæ™ºé©¾ä½“éªŒ\nâ€¢ åˆ†äº«è½¦ä¸»çœŸå®è¯„ä»·å’Œç”¨è½¦åœºæ™¯\nâ€¢ å‘ŠçŸ¥è¿‘æœŸä¼˜æƒ æ´»åŠ¨æˆªæ­¢æ—¶é—´`;
                actions = ['å‘é€è¯•é©¾é‚€çº¦', 'ç”Ÿæˆè¥é”€ç´ æ', 'æ‰¹é‡ä¼å¾®æ¨é€', 'æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯'];
            } else if (type === 'å·²è¯•é©¾å®¢æˆ·') {
                detailText = `<strong>å·²è¯•é©¾å¾…ä¿ƒæˆå®¢æˆ·</strong>\n\nğŸ‘¤ <strong>å®¢æˆ·åˆ—è¡¨ï¼š</strong>\n1. é™ˆå…ˆç”Ÿ - L7 - è¯•é©¾å3å¤©\n2. å‘¨å¥³å£« - L8 - è¯•é©¾å5å¤©\n3. å´å…ˆç”Ÿ - L9 - è¯•é©¾å2å¤©\n4. éƒ‘å¥³å£« - L7 - è¯•é©¾å7å¤©\n\nğŸ’¡ <strong>å»ºè®®ç­–ç•¥ï¼š</strong>\nâ€¢ è¯¢é—®è¯•é©¾æ„Ÿå—ï¼Œè§£å†³é¡¾è™‘\nâ€¢ æä¾›ä¸ªæ€§åŒ–é‡‘èæ–¹æ¡ˆ\nâ€¢ å¼ºè°ƒé™æ—¶ä¼˜æƒ ï¼Œåˆ¶é€ ç´§è¿«æ„Ÿ`;
                actions = ['ç”Ÿæˆä¿ƒæˆè¯æœ¯', 'è®¡ç®—é‡‘èæ–¹æ¡ˆ', 'å‘é€ä¼˜æƒ ä¿¡æ¯', 'å®‰æ’å†æ¬¡è¯•é©¾'];
            } else if (type === 'åˆ°æœŸè·Ÿè¿›') {
                detailText = `<strong>ä»Šæ—¥åˆ°æœŸè·Ÿè¿›å®¢æˆ·</strong>\n\nğŸ‘¤ <strong>å¾…è·Ÿè¿›ï¼š</strong>\n1. å­™å…ˆç”Ÿ - çº¦å®šä»Šæ—¥å›å¤è´­è½¦æ„å‘\n2. é»„å¥³å£« - é‡‘èæ–¹æ¡ˆå®¡æ‰¹åˆ°æœŸ\n3. å¾å…ˆç”Ÿ - ç½®æ¢è¯„ä¼°ç»“æœä»Šæ—¥åé¦ˆ\n\nğŸ’¡ <strong>å»ºè®®ç­–ç•¥ï¼š</strong>\nâ€¢ åŠæ—¶è·Ÿè¿›ï¼Œå±•ç°ä¸“ä¸šåº¦\nâ€¢ æå‰å‡†å¤‡åº”å¯¹è¯æœ¯\nâ€¢ è®°å½•è·Ÿè¿›ç»“æœï¼Œå®‰æ’åç»­`;
                actions = ['ç”Ÿæˆè·Ÿè¿›è¯æœ¯', 'æŸ¥çœ‹å®¢æˆ·è¯¦æƒ…', 'è®¾ç½®æé†’', 'ä¼å¾®å¿«é€Ÿè”ç³»'];
            } else if (type === 'é•¿æœŸæœªè”ç³»') {
                detailText = `<strong>é•¿æœŸæœªè”ç³»å®¢æˆ·å”¤é†’</strong>\n\nğŸ‘¤ <strong>å®¢æˆ·åˆ—è¡¨ï¼š</strong>\nâ€¢ 7å¤©ä»¥ä¸Šæœªè”ç³»ï¼š6ä½\nâ€¢ å¹³å‡æ²‰ç¡æ—¶é—´ï¼š12å¤©\n\nğŸ’¡ <strong>å»ºè®®ç­–ç•¥ï¼š</strong>\nâ€¢ å‘é€å…³æ€€é—®å€™ï¼Œè€Œéç›´æ¥æ¨é”€\nâ€¢ åˆ†äº«æ–°è½¦å‹/æ–°åŠŸèƒ½ä¿¡æ¯\nâ€¢ é‚€è¯·å‚åŠ çº¿ä¸‹æ´»åŠ¨æˆ–è½¦ä¸»åˆ†äº«ä¼š`;
                actions = ['ç”Ÿæˆå”¤é†’è¯æœ¯', 'æ¨é€æ–°è½¦èµ„è®¯', 'é‚€è¯·æ´»åŠ¨', 'æ‰¹é‡ä¼å¾®æ¶ˆæ¯'];
            }

            addMsg('ai', detailText, actions);
        }

        // å¤„ç†æ“ä½œæŒ‰é’®ç‚¹å‡»
        function handleAction(action) {
            addMsg('user', action);

            setTimeout(() => {
                showLoading();
                setTimeout(() => {
                    hideLoading();

                    if (action.includes('ä¼å¾®') || action.includes('æ¨é€') || action.includes('è”ç³»')) {
                        addMsg('ai', `âœ… å·²ä¸ºæ‚¨æ‰“å¼€ä¼ä¸šå¾®ä¿¡æ¨é€ç•Œé¢\n\næ‚¨å¯ä»¥é€‰æ‹©å‘é€å¯¹è±¡å¹¶ç¼–è¾‘æ¶ˆæ¯å†…å®¹ã€‚æ¶ˆæ¯å°†é€šè¿‡ä¼ä¸šå¾®ä¿¡å‘é€ç»™é€‰å®šçš„å®¢æˆ·ã€‚`, ['ç¡®è®¤å‘é€', 'ä¿®æ”¹å†…å®¹', 'è¿”å›']);
                    } else if (action.includes('ç´ æ') || action.includes('è¯æœ¯') || action.includes('èµ„è®¯')) {
                        addMsg('ai', `âœ… å·²ä¸ºæ‚¨ç”Ÿæˆè¥é”€å†…å®¹\n\nå†…å®¹å·²æ ¹æ®å®¢æˆ·ç‰¹å¾å’Œè½¦å‹åå¥½å®šåˆ¶ã€‚æ‚¨å¯ä»¥ç›´æ¥ä½¿ç”¨æˆ–è¿›è¡Œä¿®æ”¹ã€‚`, ['æŸ¥çœ‹å†…å®¹', 'å¤åˆ¶è¯æœ¯', 'å‘é€ç»™å®¢æˆ·', 'è¿”å›']);
                    } else if (action.includes('æ–¹æ¡ˆ') || action.includes('è®¡ç®—')) {
                        addMsg('ai', `ğŸ’° é‡‘èæ–¹æ¡ˆå·²ç”Ÿæˆ\n\n<strong>æ¨èæ–¹æ¡ˆï¼š</strong>\nâ€¢ é¦–ä»˜30% - æœˆä¾›Â¥8,500\nâ€¢ é¦–ä»˜40% - æœˆä¾›Â¥7,200\nâ€¢ é¦–ä»˜50% - æœˆä¾›Â¥5,900\n\nå·²åŒ…å«å‚å®¶é‡‘èè¡¥è´´ã€‚`, ['å‘é€ç»™å®¢æˆ·', 'è°ƒæ•´æ–¹æ¡ˆ', 'è¿”å›']);
                    } else {
                        addMsg('ai', `æ­£åœ¨å¤„ç†æ‚¨çš„è¯·æ±‚...`, ['ç»§ç»­', 'è¿”å›']);
                    }
                }, 800);
            }, 200);
        }

        // åˆå§‹åŒ–
        console.log('ç†æƒ³æ±½è½¦é”€å”®AIåŠ©æ‰‹å·²å¯åŠ¨');
    </script>
</body>
</html>